{% extends 'base.html' %}

{% block styles %}

.dialogue {
    display:grid;
    grid-template-columns: 100px 400px;
    align-items:center;
    border: 2px solid rgba(200,0,0,0.8);
    box-shadow: 0px 4px 5px 3px rgba(0,0,0,0.6);
    padding: 0px 10px;
    margin-top: 10px;
}

.dialogue:hover {
    background-color: #fee;
}

{% endblock %}

{% load poll_extras %}

{% block content %}

<div class="block">
    <h1>Messages</h1>
    {% for dialogue in dialogues %}
    <a style="text-decoration: none; color: #000000;"  href="{% url 'dialogue' dialogue.id%}">
        <div class="dialogue">
            <div style=" float: left; top:50%">
                <img style="object-fit: cover; width:    100px; height: 100px; border-radius: 50%" src="{{ dialogue.opponent.photo.url|file_exists }}">
            </div>
            <div style="float: left; padding: 0px 20px; transform: translate(0, -10%);">
                <h2 align="left">{{ dialogue.opponent.username }}</h2>
                <p align="left">{{ dialogue.lastMessage.text }}</p>
            </div>
        </div>
    </a>
</div>
{% endfor %}
{% endblock %}